(function(f){f.module("darwino",[]).service("darwino",function(){function e(a,b){for(var c="",d=0;d<a.length;d++)a[d]&&(c=c?c+(b+a[d]):a[d]);return c}return{version:function(){return"1.0.0"},trim:function(){return String.prototype.trim?function(a){return a.toString().trim()}:function(a){return a.toString().replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}(),concatClasses:function(a){return e(arguments," ")},concatStyles:function(a){return e(arguments,";")},addClass:function(a,b){return a?b?'class\x3d"'+
a+'"':a:""},setDefaultProperty:function(a,b,c){a.hasOwnProperty(b)||(a[b]=c)}}})})(angular);
(function(c){function b(){}b.prototype.getId=function(a){return a.Id};b.prototype.isLeaf=function(a){a=this.getChildren(a);return null==a||0==a.length};b.prototype.getLabel=function(a){return a.label};b.prototype.getBranchClass=function(a){return null};b.prototype.getLeafClass=function(a){return null};b.prototype.getLabelClass=function(a){return null};b.prototype.getSelectedClass=function(a){return null};b.prototype.getChildren=function(a){return c.isFunction(a.children)?a.children():a.children};
var d=new b;c.module("darwino").service("dwoNodeAccessorFactory",function(){return{defaultAccessor:function(){return d},createAccessor:function(){return new b},getAccessor:function(a,b){return a.nodeAccessor||b&&b.nodeAccessor||d}}})})(angular);
(function(c){c.module("darwino").directive("dwoTree",["$compile","darwino","dwoNodeAccessorFactory","dwoTreeRenderer",function(b,e,g,f){return{restrict:"E",transclude:!0,scope:{treeModel:"\x3d",selectedNode:"\x3d?",onSelection:"\x26",options:"\x3d?"},controller:function(a,c,b){var d=a.options=a.options||{};e.setDefaultProperty(d,"dirSelectable",!0);d.renderer&&(f=b.get(d.renderer));d.nodeAccessorFactory&&(g=d.nodeAccessorFactory);a.expandedNodes={};a.nodeAccessor=function(){return g.getAccessor(this.node,
d)};a.nodeId=function(){return this.$id};a.children=function(){return a.nodeAccessor().getChildren(this.node)};a.isExpanded=function(){return!!a.expandedNodes[this.nodeId()]};a.isSelected=function(){return this.node==a.selectedNode};a.isLeaf=function(){return this.nodeAccessor().isLeaf(this.node)};a.getLevel=function(){for(var d=0,c=this;c&&c!=a;c=c.$parent)d++;return d};a.getParent=function(){return this.$$parent==a?null:this.$$parent};a.selectNodeHead=function(){if(!this.isLeaf()){a.selectedNode=
void 0;if(a.onSelection)a.onSelection({node:null});a.expandedNodes[this.nodeId()]=void 0===a.expandedNodes[this.nodeId()]?this.node:void 0}};a.selectNodeLabel=function(){if(this.isLeaf()||a.options.dirSelectable){if(a.selectedNode=this.node,a.onSelection)a.onSelection({node:this.node})}else this.selectNodeHead()};a.nodeLabel=function(){return this.nodeAccessor().getLabel(this.node)};a.nodeTemplate=function(a){throw Error();};f.initScope&&f.initScope(a);d.initScope&&d.initScope(a);c(function(d){a.hasTransclude=
!!e.trim(d.text())});return{}},compile:function(a,b,e){return function(a,b,f,g){a.$watch("treeModel",function(b){if(c.isDefined(a.node)){var e=a.node.children;if(c.isArray(b)){if(c.equals(e,b))return}else if(1==e.length&&c.equals(e[0],b))return}a.node={};a.node.children=c.isArray(b)?b:[b]});a.nodeTemplate()(a,function(a){b.empty();b.append(a)});a.$treeTransclude=e}}}}]).directive("dwoTreeItem",function(){return{restrict:"E",require:"^dwoTree",link:function(b,e,c,f){b.nodeTemplate()(b,function(a){e.empty();
e.append(a)})}}}).directive("dwoTreeTransclude",function(){return{link:function(b,c,g,f){b.$treeTransclude(b,function(a){c.empty();c.append(a)})}}})})(angular);
(function(g){g.module("darwino").service("dwoTreeRenderer",["darwino","$compile",function(b,c){function d(a){return'\x3cul ng-class\x3d"treeUlClass()"\x3e\x3cli ng-repeat\x3d"node in children()" ng-class\x3d"treeLiClass()"\x3e\x3ci ng-class\x3d"treeToggleClass()" ng-click\x3d"selectNodeHead()"\x3e\x3c/i\x3e\x3ci ng-class\x3d"treeIconClass()""\x3e\x3c/i\x3e\x3cspan ng-class\x3d"treeNodeClass()" ng-click\x3d"selectNodeLabel()"\x3e'+(a?"\x3cspan dwo-tree-transclude\x3e\x3c/span\x3e\x3c/div\x3e":"\x3cspan\x3e{{nodeLabel()}}\x3c/span\x3e\x3c/span\x3e")+
'\x3cdwo-tree-item ng-if\x3d"isExpanded()"\x3e\x3c/dwo-tree-item\x3e\x3c/li\x3e\x3c/ul\x3e'}var e,f;return{initScope:function(a){a.nodeTemplate=function(){return this.hasTransclude?f||(f=c(d(!0))):e||(e=c(d(!1)))};a.treeUlClass=function(){return"nav nav-pills nav-stacked"};a.treeLiClass=function(){return 1<this.getLevel()?"indent":""};a.treeToggleClass=function(){return this.isLeaf()?"glyphicon dwo-tree-icon":this.isExpanded()?"glyphicon glyphicon-minus tree-toggle-expanded dwo-tree-icon":"glyphicon glyphicon-plus tree-toggle-collapsed dwo-tree-icon"};
a.treeIconClass=function(){var a=this.node.iconClass;return this.isLeaf()?(a||"glyphicon glyphicon-file")+" tree-leaf dwo-tree-icon":this.isExpanded()?(a||"glyphicon glyphicon-folder-open")+" tree-branch-expanded dwo-tree-icon":(a||"glyphicon glyphicon-folder-close")+" tree-branch-collapsed dwo-tree-icon"};a.treeNodeClass=function(){var a=this.treeLabelClass();this.isSelected()&&(a=b.concatClasses(a,this.treeSelectedClass()));return a};a.treeLabelClass=function(){return b.concatClasses("tree-label",
this.nodeAccessor().getLabelClass(this.node))};a.treeSelectedClass=function(){return b.concatClasses("tree-selected",this.nodeAccessor().getSelectedClass(this.node))}}}}])})(angular);
(function(a){a.module("darwino").service("dwoTreeChevronRenderer",["darwino","dwoTreeRenderer",function(a,b){return{initScope:function(a){b.initScope(a);a.treeToggleClass=function(){return this.isLeaf()?"glyphicon dwo-tree-icon":this.isExpanded()?"glyphicon glyphicon-chevron-down tree-toggle-expanded dwo-tree-icon":"glyphicon glyphicon-chevron-right tree-toggle-collapsed dwo-tree-icon"}}}}])})(angular);
(function(b){b.module("darwino").service("dwoTreeCompositeRenderer",["darwino","dwoTreeRenderer","dwoTreeListRenderer",function(b,c,d){return{initScope:function(a){c.initScope(a);var b=a.nodeTemplate;d.initScope(a);var e=a.nodeTemplate;a.nodeTemplate=function(){return 0==this.getLevel()?e.call(this):b.call(this)};a.li}}}])})(angular);
(function(g){g.module("darwino").service("dwoTreeListRenderer",["darwino","$compile",function(b,c){function d(a){return'\x3cul ng-class\x3d"listUlClass()"\x3e\x3cli ng-repeat\x3d"node in children()" ng-class\x3d"listLiClass()" style\x3d"padding-left: 20px"\x3e\x3ci ng-class\x3d"listToggleClass()" ng-click\x3d"selectNodeHead()"\x3e\x3c/i\x3e\x3ci ng-class\x3d"listIconClass()""\x3e\x3c/i\x3e\x3cspan ng-class\x3d"listNodeClass()" ng-click\x3d"selectNodeLabel()"\x3e'+(a?"\x3cspan dwo-tree-transclude\x3e\x3c/span\x3e\x3c/div\x3e":
"\x3cspan\x3e{{nodeLabel()}}\x3c/span\x3e\x3c/span\x3e")+'\x3cdwo-tree-item ng-if\x3d"isExpanded()"\x3e\x3c/dwo-tree-item\x3e\x3c/li\x3e\x3c/ul\x3e'}var e,f;return{initScope:function(a){a.nodeTemplate=function(){return this.hasTransclude?f||(f=c(d(!0))):e||(e=c(d(!1)))};a.listUlClass=function(){return"list-group"};a.listLiClass=function(){return"list-group-item"};a.listToggleClass=function(){return this.isLeaf()?"glyphicon dwo-tree-icon":this.isExpanded()?"glyphicon glyphicon-minus tree-toggle-expanded dwo-tree-icon":
"glyphicon glyphicon-plus tree-toggle-collapsed dwo-tree-icon"};a.listIconClass=function(){return this.isLeaf()?"glyphicon glyphicon-file tree-leaf dwo-tree-icon":this.isExpanded()?"glyphicon glyphicon-folder-open tree-branch-expanded dwo-tree-icon":"glyphicon glyphicon-folder-close tree-branch-collapsed dwo-tree-icon"};a.listNodeClass=function(){var a=this.listLabelClass();this.isSelected()&&(a=b.concatClasses(a,this.listSelectedClass()));return a};a.listLabelClass=function(){return b.concatClasses("tree-label",
this.nodeAccessor().getLabelClass(this.node))};a.listSelectedClass=function(){return b.concatClasses("tree-selected",this.nodeAccessor().getSelectedClass(this.node))}}}}])})(angular);
